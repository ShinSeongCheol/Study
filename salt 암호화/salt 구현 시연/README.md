# 솔트
## 솔트의 탄생 배경
- 해쉬함수를 이용하는 패스워드 관리의 안정성을 높이기 위하여 **솔트**가 제시
## 솔트의 원리
- 사용자마다 랜덤하게 부여되는 솔트를 패스워드 앞이나 뒤에 추가되어 패스워드 해시값을 생성하는데 사용
- 솔트를 사용하면 입력 메시지가 길어져 더 많은 크래킹 시간이 요구되므로 패스워드를 보다 안전하게 보호할 수 있는 방법
## 솔트의 취약점
- 솔트는 사용자마다 랜덤하게 생성되도, 생성된 후에는 특정 값으로 데이터베이스 솔트 칼럼에 저장
- 데이터베이스가 해킹된 경우 공격자는 사용자 별로 부여된 솔트를 쉽게 파악하여 패스워드 크래킹에 이용
## 접속로그 기반의 솔트
- 국내·외 개인정보보호 정책에 따라 웹사이트의 개인정보 처리자는 방문자의 접속기록 (IP 주소, 접속날짜, 브라우저, OS 종류 등)을 반드시 데이터베이스에 저장
- 로그인 시에 변경되는 접속 기록들을 솔트로 사용하면 패스워드 해쉬값을 자주 바꿀 수 있게 된다.
- 접속로그 기반의 솔트 (Access log-based Salt)는 로그인할 때마다 패스워드 해쉬값이 변경되므로 데이터베이스 관리자나 공격자 입장에서는 사용자가 패스워드를 자주 변경하는 것과 동일한 효과를 보이게 된다.
- 데이터베이스가 유출되더라도 Salt라는 컬럼이 별도로 존재하지 않으므로 공격자에게 솔트의 존재 및 사용여부를 감출 수 있게 된다.
- 공격자가 패스워드 크래킹 중에 사용자가 로그인을 하면 패스워드 해쉬값이 바뀌게 되어 크래킹을 새로 시도해야하므로, 패스워드의 보안 레벨이 매우 높게 안정적으로 유지
## 패스워드 별 동적솔트
- 접속로그 기반의 솔트는 소스코드가 공격자에 노출되는 경우에 솔트로 사용하는 접속기록도 노출
- 사용자가 입력한 패스워드를 숫자화하여 N개의 접속기록들 중에서 r개를 솔트로 선택하여 패스워드 해쉬값을 생성하는 방식
- 데이터베이스와 소스코드가 노출되더라도 사용자마다 서로 다른 r개의 솔트를 사용하므로 패스워드 해쉬값을 보다 안전하게 보호
- 접속로그 기반 솔트와 다르게 패스워드 별 동적솔트 방식에서는 소스코드가 노출되더라도 공격자는 사용자의 패스워드를 알 수 없으므로 어떤 솔트조합을 사용하여 패스워드 해쉬값을 생성하였는지 쉽게 알 수 없다.
- 접속기록 뿐만 아니라 사용자의 아이디, 이메일주소, 생일과 같은 고정값을 솔트로 같이 사용하면 조합의 수가 증가하고 해쉬함수의 입력도 길어져 보안이 더욱 강화된 패스워드 해쉬값을 생성할 수 있다.
- 고정값들이 솔트조합에 포함되더라도 접속기록과 같이 로그인할 때마다 변하는 가변값들이 솔트조합에 섞여 있으므로 동적솔트의 장점은 유지하면서 패스워드 해쉬값의 보안 레벨을 매우 높게 그리고 안정적으로 유지
## 접속로그 기반 동적 솔트 구현
### 시스템 요구사항
- PHP 8.1.6
- Apache
- Maria DB 10.6
### 사용된 언어
- php
- javascript
- css
### 사용된 모듈
- jQuery v3.6.0
